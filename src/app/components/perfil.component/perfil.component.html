<!-- PERFIL -->
<div class="custom-navbar p-4 rounded-4 shadow-sm mt-4 mb-4" *ngIf="perfil">

  <!-- INFO PERFIL -->
  <div class="d-flex align-items-center gap-3 mb-3">

    <!-- IMAGEN PERFIL -->
    <div class="avatar-wrapper">
      <div class="user-icon-circle avatar-ring">
        <img [src]="perfil.imagen" alt="Imagen de perfil" (error)="setPerfilImagen()" />
      </div>

      <!-- ESTADO MINI -->
      <span class="avatar-status" [ngClass]="{
      'status-active': perfil.estadoUsuario,
      'status-inactive': !perfil.estadoUsuario
    }"></span>
    </div>

    <!-- TEXTO -->
    <div>
      <h2 class="mb-0" style="color: var(--text-main);">
        {{ perfil.nombre + ' ' + perfil.apellidos }}
      </h2>
      <p class="mb-0" style="color: var(--accent-color); font-weight: 600;">
        {{ perfil.role }}
      </p>
    </div>
  </div>

  <!-- EMAIL Y CURSO -->
  <div class="profile-info-grid mt-4 mb-4">

    <!-- EMAIL -->
    <div class="info-card">
      <div class="info-icon">ğŸ“§</div>
      <div class="info-text">
        <span class="info-label">Email</span>
        <span class="info-value">{{ perfil.email }}</span>
      </div>
    </div>

    <!-- CURSO -->
    <div class="info-card">
      <div class="info-icon">ğŸ“</div>
      <div class="info-text">
        <span class="info-label">Curso</span>
        <span class="info-value">{{ perfil.curso }}</span>
      </div>
    </div>

  </div>

  <!-- ESTADO -->
  <div class="mb-4">
    <span class="pill-item d-inline-block" [ngClass]="{
        'bg-success text-white': perfil.estadoUsuario,
        'bg-danger text-white': !perfil.estadoUsuario
      }">
      {{ perfil.estadoUsuario ? 'Activo' : 'Inactivo' }}
    </span>
  </div>
</div>

<div class="custom-navbar p-4 rounded-4 shadow-sm mt-3" *ngIf="eventos && eventos.length > 0">
  <h3 style="color: var(--text-main); margin-bottom: 1rem;">Eventos Inscritos</h3>

  <div class="d-flex flex-column gap-2">

    <div *ngFor="let evento of eventos" class="event-card-wrapper">

      <!-- CARD DE EVENTO -->
      <div class="event-card" (click)="seleccionarEvento(evento.idEvento)">
        <div class="event-date">
          <span class="date-day">{{ evento.fechaEvento | date:'dd' }}</span>
          <span class="date-month">{{ evento.fechaEvento | date:'MMM' | uppercase }}</span>
        </div>
        <div class="event-info">
          <div class="event-time">
            <i class="bi bi-clock me-2"></i>
            {{ evento.fechaEvento | date:'HH:mm' }}h
          </div>
        </div>
      </div>

      <!-- CARD DE ACTIVIDAD -->
      <div *ngIf="idEventoSeleccionado === evento.idEvento" class="activity-card mt-2 p-3 shadow-sm rounded-4 border">

        <h5 class="activity-title">ğŸ¯ {{ nombreActividad }}</h5>

        <div class="activity-info d-flex align-items-center gap-2 mb-2">
          <span class="activity-icon">ğŸ§‘â€âœˆï¸</span>
          <span class="activity-text">
            {{ quiereSerCapitan ? 'Quiere ser capitÃ¡n' : 'No quiere ser capitÃ¡n' }}
          </span>
        </div>

        <div class="activity-info d-flex align-items-center gap-2">
          <span class="activity-icon">ğŸ“…</span>
          <span class="activity-text"> InscripciÃ³n realizada el {{ fechaInscripcion | date:'dd/MM/yyyy' }}</span>
        </div>

      </div>

      <div *ngIf="eventos && eventos.length === 0"
        class="custom-navbar p-4 rounded-4 shadow-sm mt-3 text-muted text-center">
        No estÃ¡s inscrito a ningÃºn evento.
      </div>